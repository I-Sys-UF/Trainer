# 使い方

このプログラムはただ実行するだけでいい

# 説明

一気にコードの量が増えたので面食らうと思うが，頑張ってついてきて欲しい

マクロ定義と配列の初期化についてはもうわかっていると思うので説明は省略する．そろそろ説明も疲れてきたので

`setup()` 関数では，LED に接続されている GPIO の初期化と，シフトレジスタ 74HC595 に接続されている GPIO の初期化を行っている．関数化はせず，そのまま書いてある形である

`loop()` 関数では，`static uint8_t` 型で 4 つの変数を，`static int8_t` 型で 1 つの変数を宣言している．`uint8_t` , `int8_t` は良いとして，見慣れない `static` という修飾子がついているが，これを付けることにより，関数が実行されたあとも変数と値が保持され，再度同じ関数がコールされたときに引き続き使うことができるようになる．詳しくは各自調べて欲しい

ここで用意された変数は，今の段階でのスイッチの状態と，一つ前の段階でのスイッチの状態を，それぞれ保持するために使われている．ビット演算を使えば一つにまとめることができるが，可読性が落ちるので採用していない

SW1 を例に挙げると，`SW1_Status_Old` という変数に一つ前の段階でのスイッチの状態が，`SW1_Status_New` という変数に現時点でのスイッチの状態が保存される．これにより，一つ前と今で比較することができ，「押された瞬間」を検知することができるようになる  
もちろん，「離された瞬間」も検知できる

その下の `if` 文のところで，押された瞬間を検知し，LED を光らせつつ，カウンタ変数 `counter` を操作している．その下はオーバーフロー対策のコードである

そして 7 セグメント LED を光らせ，少し待つ．このような流れで動いている
